# Ps1524_tailocin_tradeoffs

This repository contains data, analysis scripts, and figures for the manuscript  
**Population-level trade-offs constrain pathogen evolution: O-antigen variation balances competition and colonization in  Pseudomonas syringae.**.

## Repository structure

- `Ps1524_tailocin_tradeoffs.Rproj` – R project file to open in RStudio.
- `data/` – input datasets used in each analysis, organized by figure panel.
- `scripts/` – R scripts to reproduce each analysis and figure.
- `figures/` – output figures generated by the scripts.
- `README.md` – this file.

## Workflow

Each analysis is organized by figure panel, numbered according to the manuscript:

1. **01_tailocin_killing_matrix**  
   - *Data*: killing matrix assays and tree (Fig. 1A).  
   - *Script*: `scripts/01_tailocin_killing_matrix.R`  
   - *Figure*: `figures/01_tailocin_killing_matrix.pdf`

2. **02_HTF_OBC_sensitivity_summary**  
   - *Data*: strain haplotypes and sensitivity assays (Fig. 1B).  
   - *Script*: `scripts/02_HTF_OBC_sensitivity_summary.R`  
   - *Figure*: `figures/02_HTF_OBC_sensitivity_summary.pdf`

3. **03_plant_health_OBC**  
   - *Data*: green pixel quantification and OBC annotations (Fig. 1C).  
   - *Script*: `scripts/03_plant_health_OBC.R`  
   - *Figure*: `figures/03_plant_health_OBC.pdf`

4. **04_tnseq_scatter**  
   - *Data*: plant vs tailocin fitness from parallel TnSeq (Fig. 2B).  
   - *Script*: `scripts/04_tnseq_scatter.R`  
   - *Figure*: `figures/04_tnseq_scatter.pdf`

5. **05_geneplot**  
   - *Data*: OBC gene cluster annotations with gene category (Fig. 2C).  
   - *Script*: `scripts/05_geneplot.R`  
   - *Figure*: `figures/05_geneplot.pdf`

6. **06_plant_infections**  
   - *Data*: luciferase infection assays (fold-change at 7 dpi, Fig. 3C).  
   - *Script*: `scripts/06_plant_infections_luciferase.R`  
   - *Figure*: `figures/06_plant_infections_luciferase.pdf`

7. **07_plant_disease**  
   - *Data*: qualitative disease scoring (Fig. 3D).  
   - *Script*: `scripts/07_plant_disease.R`  
   - *Figure*: `figures/07_plant_disease.pdf`

8. **08_disease_vs_load**  
   - *Data*: merged infection load and disease scoring data (Fig. 3E).  
   - *Script*: `scripts/08_disease_vs_load.R`  
   - *Figure*: `figures/08_disease_vs_load.pdf`

9. **09_oxidative_stress**  
   - *Data*: growth curves of WT and OPS mutants across H2O2 concentrations (Fig. SX).  
   - *Script*: `scripts/09_oxidative_stress.R`  
   - *Figure*: `figures/09_oxidative_stress.png`  
   - *Outputs*: per-replicate WT MICs (`WT_MIC_by_replicate.csv`) and strain contrasts (`emmeans_contrasts_vsWT_scaledMIC.csv`).

10. **10_aggregation**  
   - *Data*: aggregation phenotype scoring from static cultures (R1–R3, Fig. SX).  
   - *Script*: `scripts/10_aggregation.R`  
   - *Figure*: `figures/10_aggregation.png`  
   - *Outputs*: χ² and pairwise Fisher’s exact test results (`10_aggregation_stats.csv`).

11. **11_qPCR**  
   - *Data*: expression levels of immune marker genes in Arabidopsis following infection with WT and O-antigen mutants.  
   - *Script*: `scripts/11_qPCR.R` *(to be added)*  
   - *Figure*: `figures/11_qPCR.pdf` *(to be generated)*  
   - *Goal*: test whether O-antigen mutants elicit differential host immune responses compared to WT.

## Requirements

All analyses are written in R. Core packages include:
- `ggplot2`, `viridis` for plotting  
- `dplyr`, `tidyr` for data wrangling  
- `multcomp`, `emmeans`, `lme4`, `lmerTest` for statistics  

Install them with:

```r
install.packages(c("ggplot2", "viridis", "dplyr", "tidyr", "multcomp", "emmeans", "lme4", "lmerTest"))

